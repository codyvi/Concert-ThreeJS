<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/102/three.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>
    <script type="module">
        import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.124/examples/jsm/controls/OrbitControls.js'; 
        let scene = new THREE.Scene();
        let camera = new THREE.PerspectiveCamera(
            75,
            window.innerWidth / window.innerHeight,
            0.1,
            1000
        );
        
        camera.position.z = 105;
        camera.position.y = 5;
        camera.position.x= 5;
        let renderer = new THREE.WebGLRenderer({antialias: true});
        renderer.setClearColor("#e5e5e5");
        renderer.setSize(window.innerWidth, window.innerHeight);

        document.body.appendChild(renderer.domElement)

        const controls = new OrbitControls( camera, renderer.domElement );
        controls.update();


        window.addEventListener('resize', () =>{
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;

            camera.updateProjectionMatrix();
        })

        // Create plane
        var plane = new THREE.BoxGeometry(100, 1,100);
        var materialPlane = new THREE.MeshLambertMaterial({color: 0xFFCC00})
        var meshPlane = new THREE.Mesh(plane, materialPlane)
        scene.add(meshPlane);
        // Create the scene of the concert
        var escenarioBase = new THREE.BoxGeometry(80,1,25);
        var materialEscenario = new THREE.MeshLambertMaterial({color: 0x000000}) 
        var meshEscenario = new THREE.Mesh(escenarioBase, materialEscenario);
        meshEscenario.position.set(1,1,-35)
        scene.add(meshEscenario)
        // Create the scene back
        var escenarioAtras = new THREE.BoxGeometry(80,1,25);
        var materialEscenarioAtras = new THREE.MeshLambertMaterial({color: 0x000000}) 
        var meshEscenarioAtras = new THREE.Mesh(escenarioAtras, materialEscenarioAtras);
        meshEscenarioAtras.position.set(1,12,-48)
        meshEscenarioAtras.rotation.x = Math.PI / 2;
        scene.add(meshEscenarioAtras)
        // Create the scene top
        var escenarioBaseSuperior = new THREE.BoxGeometry(80,1,25);
        var materialEscenarioSuperior = new THREE.MeshLambertMaterial({color: 0x000000}) 
        var meshEscenarioSuperior = new THREE.Mesh(escenarioBaseSuperior, materialEscenarioSuperior);
        meshEscenarioSuperior.position.set(1,25,-35)
        scene.add(meshEscenarioSuperior)

        // Left Column
        var escenarioPilarIzq = new THREE.BoxGeometry(5,5,25);
        var materialPilzarIzq = new THREE.MeshLambertMaterial({color: 0xFFCC00}) 
        var meshPilarIzq = new THREE.Mesh(escenarioPilarIzq, materialPilzarIzq);
        meshPilarIzq.position.set(-36,12,-26)
        meshPilarIzq.rotation.x = Math.PI / 2;
        scene.add(meshPilarIzq)

        // Right Column
        var escenarioPilarIzq = new THREE.BoxGeometry(5,5,25);
        var materialPilzarIzq = new THREE.MeshLambertMaterial({color: 0xFFCC00}) 
        var meshPilarIzq = new THREE.Mesh(escenarioPilarIzq, materialPilzarIzq);
        meshPilarIzq.position.set(38,12,-26)
        meshPilarIzq.rotation.x = Math.PI / 2;
        scene.add(meshPilarIzq)

        // Create the light of the scene
        var light = new THREE.PointLight(0xFFFFFF,1,500);
        light.position.set(100,100,25);
        scene.add(light)
        
        // Render function
        var render =  function(){
            requestAnimationFrame(render); 
            controls.update(); 
            renderer.render(scene,camera);
        }
        render();
    </script>
</body>
</html>